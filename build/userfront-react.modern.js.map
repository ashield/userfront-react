{"version":3,"file":"userfront-react.modern.js","sources":["../src/core.map.js","../src/index.js"],"sourcesContent":["const core =\n  process.env.NODE_ENV === \"test\"\n    ? require(\"../../../../AnyMod/npm/anymod-core/src/index.js\")\n    : require(\"@anymod/core\");\n\nmodule.exports = core;\nexport default core;\n","import React, { useEffect } from \"react\";\nimport core from \"./core.map.js\";\n\nconst {\n  Singleton,\n  alias,\n  processPage,\n  createOrReturnPage,\n  checkPageAndUpdate,\n  executeCallbacks,\n  logErrorsAndTips,\n  uncloakNonMods,\n} = core;\n\nasync function mount() {\n  try {\n    const page = await createOrReturnPage();\n    const updatedPage = await checkPageAndUpdate(page);\n    await processPage(updatedPage);\n    executeCallbacks();\n    logErrorsAndTips();\n    setTimeout(uncloakNonMods, 1);\n  } catch (err) {\n    let message = err && err.message ? err.message : \"Problem loading page\";\n    console.warn(message, err);\n    uncloakNonMods();\n  }\n}\n\nconst Toolkit = {\n  signupForm({ tenantId, toolId }) {\n    alias.setAlias(\"Userfront\");\n    Singleton.Opts.api = true;\n    return function Signup() {\n      useEffect(() => {\n        mount();\n      });\n      return (\n        <div>\n          <div id={`userfront-${toolId}`}></div>;\n        </div>\n      );\n    };\n  },\n};\n\nexport default Toolkit;\n"],"names":["core","process","env","NODE_ENV","require","module","exports","Singleton","alias","processPage","createOrReturnPage","checkPageAndUpdate","executeCallbacks","logErrorsAndTips","uncloakNonMods","Toolkit","signupForm","toolId","setAlias","Opts","api","useEffect","async","page","updatedPage","setTimeout","err","console","warn","message","mount","h","id"],"mappings":"kCAAA,MAAMA,EACqB,SAAzBC,QAAQC,IAAIC,SACRC,QAAQ,mDACRA,QAAQ,gBAEdC,OAAOC,QAAUN,ECFjB,MAAMO,UACJA,EADIC,MAEJA,EAFIC,YAGJA,EAHIC,mBAIJA,EAJIC,mBAKJA,EALIC,iBAMJA,EANIC,iBAOJA,EAPIC,eAQJA,GACEd,EAiBEe,EAAU,CACdC,WAAU,EAACC,OAAYA,MACrBT,EAAMU,SAAS,aACfX,EAAUY,KAAKC,KAAM,aAKnB,OAHAC,EAAU,MApBhBC,iBACE,IACE,MAAMC,QAAab,IACbc,QAAoBb,EAAmBY,SACvCd,EAAYe,GAClBZ,IACAC,IACAY,WAAWX,EAAgB,GAC3B,MAAOY,GAEPC,QAAQC,KADMF,GAAOA,EAAIG,QAAUH,EAAIG,QAAU,uBAC3BH,GACtBZ,KAUIgB,kBAIEC,SAAKC,GAAK,aAAYf"}