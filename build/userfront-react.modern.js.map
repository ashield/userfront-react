{"version":3,"file":"userfront-react.modern.js","sources":["../src/index.js"],"sourcesContent":["import React, { useEffect } from \"react\";\nimport ReactDom from \"react-dom\";\n// import core from \"./core.map.js\";\nimport core from \"@anymod/core\";\n\nconst {\n  Singleton,\n  alias,\n  processPage,\n  createOrReturnPage,\n  checkPageAndUpdate,\n  executeCallbacks,\n  logErrorsAndTips,\n  uncloakNonMods,\n} = core;\n\nasync function mount() {\n  try {\n    const page = await createOrReturnPage();\n    const updatedPage = await checkPageAndUpdate(page);\n    await processPage(updatedPage);\n    executeCallbacks();\n    logErrorsAndTips();\n    setTimeout(uncloakNonMods, 1);\n  } catch (err) {\n    let message = err && err.message ? err.message : \"Problem loading page\";\n    console.warn(message, err);\n    uncloakNonMods();\n  }\n}\n\nconst Toolkit = {\n  signupForm({ tenantId, toolId }) {\n    alias.setAlias(\"Userfront\");\n    Singleton.Opts.api = true;\n    return function Signup() {\n      useEffect(() => {\n        mount();\n      });\n      return (\n        <div>\n          <div id={`userfront-${toolId}`}></div>;\n        </div>\n      );\n    };\n  },\n};\n\nexport default Toolkit;\n"],"names":["Singleton","alias","processPage","createOrReturnPage","checkPageAndUpdate","executeCallbacks","logErrorsAndTips","uncloakNonMods","core","Toolkit","signupForm","toolId","setAlias","Opts","api","useEffect","async","page","updatedPage","setTimeout","err","console","warn","message","mount","React","id"],"mappings":"mFAKA,MAAMA,UACJA,EADIC,MAEJA,EAFIC,YAGJA,EAHIC,mBAIJA,EAJIC,mBAKJA,EALIC,iBAMJA,EANIC,iBAOJA,EAPIC,eAQJA,GACEC,EAiBEC,EAAU,CACdC,WAAU,EAACC,OAAYA,MACrBV,EAAMW,SAAS,aACfZ,EAAUa,KAAKC,KAAM,aAKnB,OAHAC,EAAU,MApBhBC,iBACE,IACE,MAAMC,QAAad,IACbe,QAAoBd,EAAmBa,SACvCf,EAAYgB,GAClBb,IACAC,IACAa,WAAWZ,EAAgB,GAC3B,MAAOa,GAEPC,QAAQC,KADMF,GAAOA,EAAIG,QAAUH,EAAIG,QAAU,uBAC3BH,GACtBb,KAUIiB,KAGAC,2BACEA,uBAAKC,GAAK,aAAYf"}