{"version":3,"file":"userfront-react.module.js","sources":["../src/index.js"],"sourcesContent":["import React, { useEffect } from \"react\";\n// import core from \"./core.map.js\";\nimport core from \"@anymod/core\";\n\nconst {\n  Singleton,\n  alias,\n  processPage,\n  createOrReturnPage,\n  checkPageAndUpdate,\n  executeCallbacks,\n  logErrorsAndTips,\n  uncloakNonMods,\n} = core;\n\nasync function mount() {\n  try {\n    const page = await createOrReturnPage();\n    const updatedPage = await checkPageAndUpdate(page);\n    await processPage(updatedPage);\n    executeCallbacks();\n    logErrorsAndTips();\n    setTimeout(uncloakNonMods, 1);\n  } catch (err) {\n    let message = err && err.message ? err.message : \"Problem loading page\";\n    console.warn(message, err);\n    uncloakNonMods();\n  }\n}\n\nconst Toolkit = {\n  signupForm({ tenantId, toolId }) {\n    alias.setAlias(\"Userfront\");\n    Singleton.Opts.api = true;\n    return function Signup() {\n      useEffect(() => {\n        mount();\n      });\n      return (\n        <div>\n          <div id={`userfront-${toolId}`}></div>;\n        </div>\n      );\n    };\n  },\n};\n\nexport default Toolkit;\n"],"names":["Singleton","alias","processPage","createOrReturnPage","checkPageAndUpdate","executeCallbacks","logErrorsAndTips","uncloakNonMods","core","Toolkit","signupForm","toolId","setAlias","Opts","api","useEffect","body","recover","result","page","updatedPage","setTimeout","e","then","err","console","warn","message","mount","h","id"],"mappings":"oEAIMA,UACJA,EADIC,MAEJA,EAFIC,YAGJA,EAHIC,mBAIJA,EAJIC,mBAKJA,EALIC,iBAMJA,EANIC,iBAOJA,EAPIC,eAQJA,GACEC,EAiBEC,EAAU,CACdC,WAAU,EAACC,OAAYA,MACrBV,EAAMW,SAAS,aACfZ,EAAUa,KAAKC,KAAM,aAKnB,OAHAC,EAAU,6BA+gBT,SAAgBC,EAAMC,GAC5B,IACC,IAAIC,kBAniBiBf,mBAAbgB,0BACoBf,EAAmBe,kBAAvCC,0BACAlB,EAAYkB,oBAClBf,IACAC,IACAe,WAAWd,EAAgB,SA+hB5B,MAAMe,GACP,OAAOL,EAAQK,GAEhB,OAAIJ,GAAUA,EAAOK,KACbL,EAAOK,UAAK,EAAQN,GAErBC,cApiBGM,GAEPC,QAAQC,KADMF,GAAOA,EAAIG,QAAUH,EAAIG,QAAU,uBAC3BH,GACtBjB,gGAUIqB,kBAIEC,SAAKC,GAAK,aAAYnB"}